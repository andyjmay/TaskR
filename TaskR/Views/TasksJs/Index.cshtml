@{
    ViewBag.Title = "Tasks - JavaScript Client";
}
<div class="header-accent"></div>
<div class="header">
  <h1 class="header-title">TaskR</h1>
</div>
<div id="actions" class="task-actions">    
  @*<label class="checkbox inline">
    <input type="checkbox" name="showClosedTasks" value="showClosedTasks" data-bind="checked: showClosed">
    Show Closed Tasks
  </label>*@
  <button class="btn" type="button" id="addTaskButton">Add a Task</button>
</div>
<div id="tasks" class="tasks">
  <ul class="unstyled" data-bind="foreach: tasks">
    <li>
      <div class="task" data-bind="attr: { id: TaskID }">
        <a href="#" class="btn editButton" data-bind="click: $root.EditTask"><i class="icon-pencil"></i>Edit</a>
        <h3 data-bind="text: Title"></h3>
        <div class="task-date">
          <span data-bind="text: DateCreated"></span>
        </div>
        <div class="task-status">
          <span data-bind="text: Status"></span>
        </div>
        <div class="task-assigned">
          <span>Assigned To:</span>
          <span data-bind="text: AssignedTo"></span>
        </div>
        <div class="task-details">
          <span data-bind="text: Details"></span>
        </div>          
      </div>
    </li>
  </ul>
</div>
<form class="modal fade" id="userLoginModal" data-bind="submit: Login">
  <div class="modal-header">
    <a class="close" data-dismiss="modal">x</a>
    <h3>Login</h3>      
  </div>
  <div class="modal-body">
    <div for="Username">What is your username?</div>
    <input type="text" data-bind="value: username" />
  </div>
  <div class="modal-footer">    
    <input type="submit" class="btn btn-primary submit-button" value="Login" />
  </div>
</form>
<form class="modal fade" id="newTaskModal" data-bind="submit: AddTask">
  <div class="modal-header">
    <a class="close" data-dismiss="modal">x</a>
    <h3>New Task</h3>      
  </div>
  <div class="modal-body">
    <div>
      <label for="Title">Title:</label>
      <input type="text" data-bind="value: Title" />
    </div>
    <div>
      <label for="AssignedTo">Assigned To:</label>
      <input type="text" data-bind="value: AssignedTo" />
    </div>
    <div>
      <label for="Status">Status:</label>
      <select data-bind="value: Status">
        <option value="Open">Open</option>
        <option value="Closed">Closed</option>
        <option value="On Hold">On Hold</option>
      </select>
    </div>
    <div>
      <label for="Details">Details:</label>
      <textarea data-bind="value: Details"></textarea>
    </div>
  </div>
  <div class="modal-footer">
    <a href="#" class="btn cancel-button" data-bind="click: ClearTask">Cancel</a>
    <input type="submit" class="btn btn-primary submit-button" value="Add Task" />
  </div>
</form>
<form class="modal fade" id="editTaskModal" data-bind="submit: UpdateTask">
  <div class="modal-header">
    <a class="close" data-dismiss="modal">x</a>
    <h3>Edit Task</h3>      
  </div>
  <div class="modal-body">
    <div>
      <label for="Title">Title:</label>
      <input type="text" data-bind="value: Title" />
    </div>
    <div>
      <label for="AssignedTo">Assigned To:</label>
      <input type="text" data-bind="value: AssignedTo" />
    </div>
    <div>
      <label for="Status">Status:</label>
      <select data-bind="value: Status">
        <option value="Open">Open</option>
        <option value="Closed">Closed</option>
        <option value="On Hold">On Hold</option>
      </select>
    </div>
    <div>
      <label for="Details">Details:</label>
      <textarea data-bind="value: Details"></textarea>
    </div>
  </div>
  <div class="modal-footer">
    <a href="#" class="btn btn-danger" data-bind="click: DeleteTask">Delete Task</a>
    <a href="#" class="btn cancel-button" data-bind="click: ClearTask">Cancel</a>
    <input type="submit" class="btn btn-primary submit-button" value="Update Task" />
  </div>
</form>
@section Scripts {
  <script src="@Url.Content("Scripts/jquery.signalR.min.js")" type="text/javascript"></script>
  <script src="@Url.Content("signalr/hubs")" type="text/javascript"></script>
  <script src="@Url.Content("Scripts/knockout.js")" type="text/javascript"></script>
  <script src="@Url.Content("Scripts/tasks.js")" type="text/javascript"></script>
}